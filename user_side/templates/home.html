{% extends "base.html" %} {% load static %} {% block home %}
<main>
  <div class="container-fluid p-0">
    <div class="band-container">
      <img
        class="img-fluid w-100"
        src="{% static '/assets/band.jpg' %}"
        alt="Lapu-Lapu City"
        style="height: 7vh; object-fit: cover"
      />
    </div>
    <div class="logo-section">
      <div class="container text-center">
        <img
          class="logo"
          src="{% static '/assets/lovetheph-logo.png' %}"
          alt="Lapu-Lapu City"
        />
        <h1
          class="text-white mb-4"
          style="font-family: 'Barabara-final', sans-serif; font-size: 50px"
        >
          LAPU-LAPU CITY
        </h1>

        <div class="search-bar-container">
          <div class="search-input">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              fill="currentColor"
              class="bi bi-search"
              viewBox="0 0 16 16"
            >
              <path
                d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.099zm-5.442 1.1a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11z"
              />
            </svg>
            <input type="text" placeholder="What are you looking for?" />
          </div>
          <div class="dropdown">
            <button onclick="toggleDropdown()">
              <span id="selected-category">Destinations</span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-chevron-down"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"
                />
              </svg>
            </button>
            <div class="dropdown-menu" id="dropdown-menu" style="display: none">
              <button onclick="selectCategory('Destinations')">
                Destinations
              </button>
              <button onclick="selectCategory('Activities')">Activities</button>
              <button onclick="selectCategory('Accommodations')">
                Accommodations
              </button>
              <button onclick="selectCategory('Food & Drinks')">
                Food & Drinks
              </button>
            </div>
          </div>
          <button class="search-button">Search</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Chatbot icon -->
  <div id="chatbot_icon" onclick="toggleChatbot()">ðŸ’¬</div>

  <!-- Chatbot container -->
  <div id="chatbot_container">
    <div id="chatbot_header">
      <div id="chatbot_title_with_pic">
        <div id="profile_pic"></div>
        <div id="chatbot_title">LLC Tourism Chatbot Assistant</div>
      </div>
      <button id="exit_button" onclick="toggleChatbot()">âœ–</button>
    </div>
    <div id="chat_box"></div>
    <form id="input_area" method="POST" onsubmit="return false;">
      {% csrf_token %}
      <input
        type="text"
        id="user_message"
        placeholder="Type your message here"
        onkeydown="handleKeyPress(event)"
      />
      <button type="button" id="send_button" onclick="sendMessage()">
        Send
      </button>
    </form>
  </div>
  <div class="container-fluid py-5">
    <!-- Changed to container-fluid for more width -->
    <div class="row justify-content-center g-4">
      <!-- Destinations Circle -->
      <div class="col-auto">
        <!-- Changed to col-auto -->
        <a
          href="{% url 'user_side_destination_list' %}"
          class="text-decoration-none"
        >
          <div class="circle-container">
            <div class="circle-image-wrapper">
              <img
                src="{% static '/assets/destination.jpg' %}"
                alt="Destinations"
              />
              <div class="circle-overlay">
                <i class="fas fa-map-marker-alt"></i>
              </div>
            </div>
            <h3 class="circle-label">Destinations</h3>
          </div>
        </a>
      </div>

      <!-- Activities Circle -->
      <div class="col-auto">
        <a href="{% url 'activity' %}" class="text-decoration-none">
          <div class="circle-container">
            <div class="circle-image-wrapper">
              <img src="{% static '/assets/Island.jpg' %}" alt="Activities" />
              <div class="circle-overlay">
                <i class="fas fa-hiking"></i>
              </div>
            </div>
            <h3 class="circle-label">Activities</h3>
          </div>
        </a>
      </div>

      <!-- Hotels Circle -->
      <div class="col-auto">
        <a href="{% url 'accommodation' %}" class="text-decoration-none">
          <div class="circle-container">
            <div class="circle-image-wrapper">
              <img src="{% static '/assets/hotel.jpg' %}" alt="Hotels" />
              <div class="circle-overlay">
                <i class="fas fa-hotel"></i>
              </div>
            </div>
            <h3 class="circle-label">Hotels</h3>
          </div>
        </a>
      </div>

      <!-- Restaurants Circle -->
      <div class="col-auto">
        <a href="{% url 'food' %}" class="text-decoration-none">
          <div class="circle-container">
            <div class="circle-image-wrapper">
              <img
                src="{% static '/assets/restaurant.jpg' %}"
                alt="Restaurants"
              />
              <div class="circle-overlay">
                <i class="fas fa-utensils"></i>
              </div>
            </div>
            <h3 class="circle-label">Restaurants</h3>
          </div>
        </a>
      </div>

      <!-- Article Circle -->
      <div class="col-auto">
        <a href="{% url 'article_list' %}" class="text-decoration-none">
          <div class="circle-container">
            <div class="circle-image-wrapper">
              <img src="{% static '/assets/blog.png' %}" alt="Article" />
              <div class="circle-overlay">
                <i class="fas fa-newspaper"></i>
                <!-- Changed icon -->
              </div>
            </div>
            <h3 class="circle-label">Article</h3>
          </div>
        </a>
      </div>
    </div>
  </div>
  <div class="container-fluid py-5">
    <!-- Changed to container-fluid for more width -->
    <!-- Section Title -->
    <div class="text-center mb-5 section-header">
      <h2 class="display-5 fw-bold text-primary mb-2">Popular Activities</h2>
      <div class="title-underline mx-auto"></div>
      <p class="text-muted mt-3">
        Discover exciting adventures and experiences in Lapu-Lapu City
      </p>
    </div>

    <!-- Cards Container -->
    <div class="row justify-content-center g-4">
      {% if random_activities %} {% for activity in random_activities %}
      <div class="col-sm-6 col-md-4 col-lg-2-4">
        <!-- Custom column width -->
        <div class="activity-card h-100">
          <div class="card-image">
            {% if activity.image %}
            <img
              src="{{ activity.image.url }}"
              alt="{{ activity.name|default:'Activity' }}"
              class="card-img"
            />
            {% else %}
            <img
              src="{% static '/assets/logo.png' %}"
              alt="Default"
              class="card-img"
            />
            {% endif %}
            <div class="card-overlay">
              <div class="overlay-content">
                <h6 class="text-white mb-2">{{ activity.name }}</h6>
                <span class="view-details">View Details</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endfor %} {% else %}
      <div class="col-12 text-center">
        <p class="text-muted">No activities available at the moment.</p>
      </div>
      {% endif %}
    </div>

    <!-- See More Button -->
    <div class="text-center mt-5">
      <a
        href="{% url 'activity' %}"
        class="btn btn-outline-primary rounded-pill px-5 py-3 see-more-btn"
      >
        <span class="btn-text">Explore All Activities</span>
        <i class="fas fa-arrow-right ms-2"></i>
      </a>
    </div>
  </div>

  <div class="container-fluid py-5">
    <!-- Changed to container-fluid for more width -->
    <!-- Section Title -->
    <div class="text-center mb-5 section-header">
      <h2 class="display-5 fw-bold text-primary mb-2">Popular Destinations</h2>
      <div class="title-underline mx-auto"></div>
      <p class="text-muted mt-3">
        Discover exciting destination in Lapu-Lapu City
      </p>
    </div>

    <!-- Cards Container -->
    <div class="row justify-content-center g-4">
      {% if random_destinations %} {% for destination in random_destinations %}
      <div class="col-sm-6 col-md-4 col-lg-2-4">
        <!-- Custom column width -->
        <div class="activity-card h-100">
          <div class="card-image">
            {% if destination.image %}
            <img
              src="{{ destination.image.url }}"
              alt="{{ destination.name|default:'Destination' }}"
              class="card-img"
            />
            {% else %}
            <img
              src="{% static '/assets/logo.png' %}"
              alt="Default"
              class="card-img"
            />
            {% endif %}
            <div class="card-overlay">
              <div class="overlay-content">
                <h6 class="text-white mb-2">{{ destination.name }}</h6>
                <span class="view-details">View Details</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endfor %} {% else %}
      <div class="col-12 text-center">
        <p class="text-muted">No destination available at the moment.</p>
      </div>
      {% endif %}
    </div>

    <!-- See More Button -->
    <div class="text-center mt-5">
      <a
        href="{% url 'user_side_destination_list' %}"
        class="btn btn-outline-primary rounded-pill px-5 py-3 see-more-btn"
      >
        <span class="btn-text">Explore All Destination</span>
        <i class="fas fa-arrow-right ms-2"></i>
      </a>
    </div>
  </div>
  <!-- Main Container -->
  <div class="container-fluid py-5">
    <div class="text-center mb-5 section-header">
      <h2 class="display-5 fw-bold text-primary mb-2">Dine and Rest</h2>
      <div class="title-underline mx-auto"></div>
      <p class="text-muted mt-3">We Got for You!</p>
    </div>
    <div class="row justify-content-center g-5">
      <!-- Hotel Container -->
      <div class="col-md-5">
        <div class="category-card">
          <div class="category-image">
            <img
              src="{% static '/assets/hotel2.jpg' %}"
              alt="Hotels"
              class="img-fluid rounded"
            />
            <div class="image-overlay"></div>
          </div>
          <div class="category-button">
            <a
              href="{% url 'accommodation' %}"
              class="btn btn-light btn-lg category-btn"
            >
              <i class="fas fa-hotel me-2"></i>
              <span class="btn-label">Hotels</span>
            </a>
          </div>
        </div>
      </div>

      <!-- Restaurant Container -->
      <div class="col-md-5">
        <div class="category-card">
          <div class="category-image">
            <img
              src="{% static '/assets/restaurant2.jpg' %}"
              alt="Restaurants"
              class="img-fluid rounded"
            />
            <div class="image-overlay"></div>
          </div>
          <div class="category-button">
            <a
              href="{% url 'food' %}"
              class="btn btn-light btn-lg category-btn"
            >
              <i class="fas fa-utensils me-2"></i>
              <span class="btn-label">Restaurants</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container my-5">
    <h2 class="text-center mb-4">Featured Blog Posts</h2>
    <div class="row g-4">
      {% for post in featured_articles %}
      <div class="col-md-4">
        <div class="card article-card">
          {% if post.image %}
          <img
            src="{{ post.image.url }}"
            class="card-img-top"
            alt="{{ post.title }}"
          />
          {% else %}
          <img
            src="{% static 'images/default.jpg' %}"
            class="card-img-top"
            alt="Default Article Image"
          />
          {% endif %}
          <div class="card-body">
            <h5 class="card-title text-center">{{ post.title }}</h5>
            <p class="card-text">{{ post.content|truncatechars:100 }}</p>
            <div class="card-body text-center">
              <a
                href="{% url 'article_detail' post.id %}"
                class="btn btn-primary read-more"
                >Read More</a
              >
            </div>
          </div>
        </div>
      </div>
      {% empty %}
      <p>No featured blog posts available.</p>
      {% endfor %}
    </div>
  </div>
  <div class="text-center mt-5 mb-3">
    <a
      href="{% url 'article_list' %}"
      class="btn btn-outline-primary rounded-pill px-5 py-3 see-more-btn"
    >
      <span class="btn-text">Go to Articles</span>
      <i class="fas fa-arrow-right ms-2"></i>
    </a>
  </div>
</main>
<script>
  function toggleDropdown() {
    const dropdownMenu = document.getElementById("dropdown-menu");
    dropdownMenu.style.display =
      dropdownMenu.style.display === "none" ? "block" : "none";
  }

  function selectCategory(category) {
    document.getElementById("selected-category").textContent = category;
    toggleDropdown();
  }
</script>
<script src="{% static '/chatbot.js'  %}"></script>
<script src="{% static '/home.js'  %}"></script>
{% endblock %} {% block page-content%} {% endblock %}
