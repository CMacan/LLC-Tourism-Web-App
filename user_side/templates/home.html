<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="{% static 'user/home.css'  %}" rel="stylesheet" />
    <link href="{% static 'user/chatbox.css'  %}" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Play&display=swap" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <title>Lapu-Lapu City Tourism</title>
  </head>
  <body>
    <header class="navbar">
      <div class="navbar-logo">
        <a href="#" class="scroll-to-top">
          <img src="{% static '/assets/logo.png' %}" alt="logo" />
          <span>LLC TOURISM</span>
        </a>
      </div>
      <nav class="navbar-links">
        <a href="#destinations">DESTINATIONS</a>
        <a href="#activities">ACTIVITIES</a>
        <a href="#accommodations">ACCOMMODATIONS</a>
        <a href="#food">FOOD &amp; DRINKS</a>
        <a href="#chat"><span class="chat-text">LET'S CHAT!</span></a>
      </nav>
    </header>

    <main>
      <section class="hero">
        <section class="image-section">
          <img
            class="band-image"
            src="{% static '/assets/band.jpg' %}"
            alt="Lapu-Lapu City"
          />
          <img
            class="logo-image"
            src="{% static '/assets/lovetheph-logo.png' %}"
            alt="Lapu-Lapu City"
          />
          <p>LAPU-LAPU CITY</p>
          <div class="search-container">
            <section class="search-section">
              <div class="search-bar">
                <i class="icon fa fa-search"></i>
                <input
                  id="search_input"
                  type="text"
                  placeholder="What are you looking for?"
                />
                <select id="category">
                  <option value="destinations">Destinations</option>
                  <option value="attractions">Activities</option>
                  <option value="attractions">Hotels</option>
                  <option value="food">Restaurants</option>
                </select>
                <button>Search</button>
              </div>
            </section>
          </div>
        </section>
      </section>

      <!-- Chatbot icon -->
      <div id="chatbot_icon" onclick="toggleChatbot()">ðŸ’¬</div>

      <!-- Chatbot container -->
      <div id="chatbot_container">
        <div id="chatbot_header">
          <div id="chatbot_title_with_pic">
            <div id="profile_pic"></div>
            <div id="chatbot_title">LLC Tourism Chatbot Assistant</div>
          </div>
          <button id="exit_button" onclick="toggleChatbot()">âœ–</button>
        </div>
        <div id="chat_box"></div>
        <form id="input_area" method="POST" onsubmit="return false;">
          {% csrf_token %}
          <input
            type="text"
            id="user_message"
            placeholder="Type your message here"
            onkeydown="handleKeyPress(event)"
          />
          <button type="button" id="send_button" onclick="sendMessage()">
            Send
          </button>
        </form>
      </div>

      <!-- Destinations Section -->
      <section id="destinations" class="destinations">
        <h2>Destinations</h2>
        <div class="destination-card">
          <img src="{% static '/assets/logo.png' %}" alt="logo" />
          <p>Attraction #1</p>
        </div>
        <div class="destination-card">
          <img src="{% static '/assets/logo.png' %}" alt="logo" />
          <p>Attraction #2</p>
        </div>
        <div class="destination-card">
          <img src="{% static '/assets/logo.png' %}" alt="logo" />
          <p>Attraction #2</p>
        </div>
        <div class="destination-card">
          <img
            src="{% static '/assets/logo.png' %}"
            alt="Lodging"
            class="landing-page-image"
          />
          <p>Attraction #2</p>
        </div>
        <div class="destination-card">
          <img
            src="{% static '/assets/logo.png' %}"
            alt="Lodging"
            class="landing-page-image"
          />
          <p>Attraction #2</p>
        </div>
      </section>

      <section class="choice py-0">
        <div class="container">
          <div class="row justify-content-center">
            <!-- Attractions Section -->
            <div class="col-auto mb-3">
              <div class="card border-0 shadow-sm" style="width: 180px;">
                <div class="card-img-container" style="height: 150px; overflow: hidden;">
                  <img src="{% static '/assets/attraction.jpg' %}" 
                       class="card-img-top h-100 w-100" 
                       alt="Attractions"
                       style="object-fit: cover;">
                </div>
                <div class="card-body text-center p-2">
                  <h6 class="card-title mb-0">Attractions</h6>
                </div>
              </div>
            </div>
      
            <!-- Food Section -->
            <div class="col-auto mb-3">
              <div class="card border-0 shadow-sm" style="width: 180px;">
                <div class="card-img-container" style="height: 150px; overflow: hidden;">
                  <img src="{% static '/assets/food.jpg' %}" 
                       class="card-img-top h-100 w-100" 
                       alt="Food"
                       style="object-fit: cover;">
                </div>
                <div class="card-body text-center p-2">
                  <h6 class="card-title mb-0">Food</h6>
                </div>
              </div>
            </div>
      
            <!-- Activities Section -->
            <div class="col-auto mb-3">
              <div class="card border-0 shadow-sm" style="width: 180px;">
                <div class="card-img-container" style="height: 150px; overflow: hidden;">
                  <img src="{% static '/assets/activity.jpg' %}" 
                       class="card-img-top h-100 w-100" 
                       alt="Activities"
                       style="object-fit: cover;">
                </div>
                <div class="card-body text-center p-2">
                  <h6 class="card-title mb-0">Activities</h6>
                </div>
              </div>
            </div>
      
            <!-- Events Section -->
            <div class="col-auto mb-3">
              <div class="card border-0 shadow-sm" style="width: 180px;">
                <div class="card-img-container" style="height: 150px; overflow: hidden;">
                  <img src="{% static '/assets/events.jpg' %}" 
                       class="card-img-top h-100 w-100" 
                       alt="Events"
                       style="object-fit: cover;">
                </div>
                <div class="card-body text-center p-2">
                  <h6 class="card-title mb-0">Events</h6>
                </div>
              </div>
            </div>

            <!-- Lodging Section -->
            <div class="col-auto mb-3">
              <div class="card border-0 shadow-sm" style="width: 180px;">
                <div class="card-img-container" style="height: 150px; overflow: hidden;">
                  <img src="{% static '/assets/events.jpg' %}" 
                       class="card-img-top h-100 w-100" 
                       alt="Events"
                       style="object-fit: cover;">
                </div>
                <div class="card-body text-center p-2">
                  <h6 class="card-title mb-0">Lodging</h6>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
          

      <section class="hotel-destination-section">
        <div class="search-container2">
          <!-- Destinations Section -->
          <div class="destination-section">
            <img
              src="{% static '/assets/logo.png' %}"
              alt="Lodging"
              class="landing-page-image"
            />
            <div class="content-container">
              <div class="text-container">
                <span class="heading"
                  >Search our most popular destinations</span
                >
              </div>
              <button class="show-button">
                <div class="button-content">
                  <img
                    src="{% static '/assets/maker_map_place_pointer_icon.png' %}"
                    alt="maker_map_place_pointer_icon"
                    class="button-icon"
                  />
                  <span class="button-text">Show Destinations</span>
                </div>
              </button>
            </div>
          </div>

          <!-- Hotels Section -->
          <div class="hotel-section">
            <img
              src="{% static '/assets/logo.png' %}"
              alt="Lodging"
              class="landing-page-image"
            />
            <div class="content-container">
              <div class="text-container">
                <span class="heading">Search our most popular hotels</span>
              </div>
              <button class="show-button">
                <div class="button-content">
                  <img
                    src="{% static '/assets/maker_map_place_pointer_icon.png' %}"
                    alt="maker_map_place_pointer_icon"
                    class="button-icon"
                  />
                  <span class="button-text">Show Hotels</span>
                </div>
              </button>
            </div>
          </div>
        </div>
      </section>

      
      <div class="container py-5"> <!-- Increased vertical padding -->
        <!-- Section Title with subtle animation -->
        <div class="text-center mb-5">
          <h2 class="display-6 fw-bold text-primary mb-2">Activities</h2>
          <div class="title-underline mx-auto"></div>
        </div>
        
        <!-- Cards Container with hover effects -->
        <div class="row g-4 justify-content-center">
          {% for activity in random_activities %}
            <div class="col-auto">
              <div class="activity-card">
                <div class="card-image">
                  {% if activity.image %}
                    <img src="{{ activity.image.url }}" 
                         alt="{{ activity.name|default:'Activity' }}">
                  {% else %}
                    <img src="{% static '/assets/logo.png' %}" 
                         alt="Default">
                  {% endif %}
                  <div class="card-overlay">
                    <span class="view-details">View Details</span>
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
        
        <!-- See More Button with animation -->
        <div class="text-center mt-5">
          <a href="" class="btn btn-outline-primary rounded-pill px-4 py-2 see-more-btn">
            Explore More Activities
            <i class="fas fa-arrow-right ms-2"></i>
          </a>
        </div>
      </div>
      
      <!-- Accommodations Section -->
      <section id="destinations" class="destinations">
        <h2>Accommodations</h2>
        <div class="destination-card">
          <img src="{% static '/assets/logo.png' %}" alt="logo" />
          <p>Accommodations #1</p>
        </div>
        <div class="destination-card">
          <img src="{% static '/assets/logo.png' %}" alt="logo" />
          <p>Accommodations #2</p>
        </div>
        <div class="destination-card">
          <img src="{% static '/assets/logo.png' %}" alt="logo" />
          <p>Accommodations #2</p>
        </div>
        <div class="destination-card">
          <img
            src="{% static '/assets/logo.png' %}"
            alt="Lodging"
            class="landing-page-image"
          />
          <p>Accommodations #2</p>
        </div>
        <div class="destination-card">
          <img
            src="{% static '/assets/logo.png' %}"
            alt="Lodging"
            class="landing-page-image"
          />
          <p>Accommodations #2</p>
        </div>
      </section>

      <!-- Food & Drinks Section -->
      <section id="destinations" class="destinations">
        <h2>Food & Drinks</h2>
        <div class="destination-card">
          <img src="{% static '/assets/logo.png' %}" alt="logo" />
          <p>Restaurant #1</p>
        </div>
        <div class="destination-card">
          <img src="{% static '/assets/logo.png' %}" alt="logo" />
          <p>Restaurant #2</p>
        </div>
        <div class="destination-card">
          <img src="{% static '/assets/logo.png' %}" alt="logo" />
          <p>Restaurant #2</p>
        </div>
        <div class="destination-card">
          <img
            src="{% static '/assets/logo.png' %}"
            alt="Lodging"
            class="landing-page-image"
          />
          <p>Restaurant #2</p>
        </div>
        <div class="destination-card">
          <img
            src="{% static '/assets/logo.png' %}"
            alt="Lodging"
            class="landing-page-image"
          />
          <p>Restaurant #2</p>
        </div>
      </section>

      <!-- Articles -->
      <section class="article">
        <div class="container">
          <div class="card">
            <div class="card__header">
              <img
                src="{% static '/assets/logo.png' %}"
                alt="Lodging"
                class="landing-page-image"
              />
            </div>
            <div class="card__body">
              <span class="tag tag-blue">Technology</span>
              <h4>What's new in 2022 Tech</h4>
              <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi
                perferendis molestiae non nemo doloribus. Doloremque, nihil! At
                ea atque quidem!
              </p>
            </div>
            <div class="card__footer">
              <div class="user">
                <img
                  src="https://i.pravatar.cc/40?img=1"
                  alt="user__image"
                  class="user__image"
                />
                <div class="user__info">
                  <h5>Jane Doe</h5>
                  <small>2h ago</small>
                </div>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="card__header">
              <img
                src="{% static '/assets/logo.png' %}"
                alt="Lodging"
                class="landing-page-image"
              />
            </div>
            <div class="card__body">
              <span class="tag tag-brown">Food</span>
              <h4>Delicious Food</h4>
              <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi
                perferendis molestiae non nemo doloribus. Doloremque, nihil! At
                ea atque quidem!
              </p>
            </div>
            <div class="card__footer">
              <div class="user">
                <img
                  src="https://i.pravatar.cc/40?img=2"
                  alt="user__image"
                  class="user__image"
                />
                <div class="user__info">
                  <h5>Jony Doe</h5>
                  <small>Yesterday</small>
                </div>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="card__header">
              <img
                src="{% static '/assets/logo.png' %}"
                alt="Lodging"
                class="landing-page-image"
              />
            </div>
            <div class="card__body">
              <span class="tag tag-red">Automobile</span>
              <h4>Race to your heart content</h4>
              <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi
                perferendis molestiae non nemo doloribus. Doloremque, nihil! At
                ea atque quidem!
              </p>
            </div>
            <div class="card__footer">
              <div class="user">
                <img
                  src="https://i.pravatar.cc/40?img=3"
                  alt="user__image"
                  class="user__image"
                />
                <div class="user__info">
                  <h5>John Doe</h5>
                  <small>2d ago</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer>
        <div class="footer">
          <div class="row">
            <a href="#"><i class="fa fa-facebook"></i></a>
            <a href="#"><i class="fa fa-instagram"></i></a>
            <a href="#"><i class="fa fa-youtube"></i></a>
            <a href="#"><i class="fa fa-twitter"></i></a>
          </div>

          <div class="row">
            <ul>
              <li><a href="#">Contact us</a></li>
              <li><a href="#">Our Services</a></li>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Terms & Conditions</a></li>
              <li><a href="#">Career</a></li>
            </ul>
          </div>

          <div class="row">
            INFERNO Copyright Â© 2021 Inferno - All rights reserved || Designed
            By: Mahesh
          </div>
        </div>
      </footer>
    </main>
    <script>
      function toggleChatbot() {
        const chatbotContainer = document.getElementById("chatbot_container");
        const chatbotIcon = document.getElementById("chatbot_icon");
        if (chatbotContainer.style.display === "flex") {
          chatbotContainer.style.display = "none";
          chatbotIcon.style.display = "flex";
        } else {
          chatbotContainer.style.display = "flex";
          chatbotIcon.style.display = "none";
        }
      }

      function handleKeyPress(event) {
        if (event.key === "Enter") {
          event.preventDefault(); // Prevent default form submission
          sendMessage(); // Call sendMessage function to handle the message
        }
      }

      async function sendMessage() {
        const userMessage = document.getElementById("user_message").value;
        const csrfToken = document.querySelector(
          "[name=csrfmiddlewaretoken]"
        ).value;

        if (!userMessage) {
          alert("Please enter a message.");
          return;
        }

        try {
          const response = await fetch("/chatbot/", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              "X-CSRFToken": csrfToken,
            },
            body: JSON.stringify({ message: userMessage }),
          });

          if (response.ok) {
            const data = await response.json();
            const chatBox = document.getElementById("chat_box");
            chatBox.innerHTML += `
              <div class="chat_message user_message">
                <p><b>You:</b> ${userMessage}</p>
              </div>`;
            chatBox.innerHTML += `
              <div class="chat_message chatbot_message">
                <div class="profile_pic"></div>
                <p><b>Lapu-Lapu AI:</b> ${data.response}</p>
              </div>`;
            chatBox.scrollTop = chatBox.scrollHeight; // Scroll to the bottom
            document.getElementById("user_message").value = "";
          } else {
            console.error(
              "Error in response:",
              response.status,
              response.statusText
            );
            alert("Failed to get a response from the bot.");
          }
        } catch (error) {
          console.error("Error in fetch:", error);
          alert("An error occurred while sending the message.");
        }
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
